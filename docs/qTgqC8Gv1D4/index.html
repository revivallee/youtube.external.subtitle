<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <base href="../../" />
    <!--[if lt IE 9]>
    <script src="static/bootstrap/js/html5shiv.min.js"></script>
    <script src="static/bootstrap/js/respond.min.js"></script>
    <![endif]-->
    <script src="static/js/jquery-1.11.2.min.js"></script>
    <script src="static/bootstrap/js/bootstrap.min.js"></script>
</head>
<body>
<style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><p><div class='embed-container'><iframe name="video" src='https://www.youtube.com/embed/qTgqC8Gv1D4' frameborder='0' allowfullscreen></iframe></div>
<script src="static/youtube.external.subtitle/youtube.external.subtitle.js"></script>
<script src="static/js/subtitles.parser.js"></script>
<script>
var loadSRT = function(url, callback) {
    var httpRequest = new XMLHttpRequest();

    httpRequest.onreadystatechange = function() {
        if (httpRequest.readyState === XMLHttpRequest.DONE) {
            var subtitles = parser.fromSrt(httpRequest.responseText, true);

            for (var i in subtitles) {
                subtitles[i] = {
                    start : subtitles[i].startTime / 1000,
                    end   : subtitles[i].endTime / 1000,
                    text  : subtitles[i].text
                };
            }

            callback(subtitles);
        }
    };

    httpRequest.open('GET', url, true);
    httpRequest.send(null);
};

loadSRT('qTgqC8Gv1D4/sub.srt', function(subtitles) {
    var youtubeExternalSubtitle = new YoutubeExternalSubtitle.Subtitle(document.getElementById('video'), subtitles);
});
</script>
